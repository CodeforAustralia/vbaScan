webpackJsonp([1,2],{118:function(t,e){},119:function(t,e){},120:function(t,e){},121:function(t,e){},122:function(t,e){},123:function(t,e){},125:function(t,e,n){n(123);var s=n(6)(n(76),n(134),"data-v-fe886be2",null);t.exports=s.exports},126:function(t,e,n){n(118);var s=n(6)(n(77),n(129),"data-v-1bef8c2c",null);t.exports=s.exports},127:function(t,e,n){n(120);var s=n(6)(n(78),n(131),null,null);t.exports=s.exports},128:function(t,e,n){n(121);var s=n(6)(n(80),n(132),"data-v-d42173cc",null);t.exports=s.exports},129:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-whiteframe",{staticClass:"card",attrs:{"md-elevation":"1"}},[n("div",{staticClass:"media"},[t.item.thumbnailUrl?n("img",{attrs:{src:t.item.thumbnailUrl}}):n("img",{staticClass:"emoji",attrs:{src:"https://emojione.com/wp-content/uploads/assets/emojis/1f43e.svg",alt:"emoji"}})]),t._v(" "),n("div",{staticClass:"content"},[n("img",{staticClass:"emoji",attrs:{src:"https://emojione.com/wp-content/uploads/assets/emojis/1f43e.svg",alt:"emoji"}}),t._v(" "),n("p",{staticClass:"truncate"},[t._v(t._s(t.item.commonNme))]),t._v(" "),n("md-icon",{staticClass:"md-primary",attrs:{id:t.item.taxonId},nativeOn:{click:function(e){t.toggleRightSidenavCard(e)}}},[t._v("info")])],1)])},staticRenderFns:[]}},130:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("md-whiteframe",{staticClass:"main-toolbar",attrs:{"md-elevation":"1","md-theme":"primary"}},[n("md-toolbar",{staticClass:"main-toolbar"},[n("img",{attrs:{id:"logo",src:"https://www.wildlife.vic.gov.au/__data/assets/git_bridge/0015/177/deploy/mysource_files/logo-copy.svg",alt:"DELWP logo"}}),t._v(" "),n("md-layout",{staticClass:"toolbar-icons"},[this.$store.state.records.length?n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.switchView()}}},[t.listView?n("md-icon",[t._v("view_module")]):n("md-icon",[t._v("view_list")])],1):t._e(),t._v(" "),n("md-button",[n("md-icon",{attrs:{id:"menu-icon"}},[t._v("menu")])],1)],1)],1)],1),t._v(" "),this.$store.state.progress?n("md-progress",{staticClass:"md-accent",attrs:{"md-indeterminate":""}}):t._e(),t._v(" "),n("hello")],1)},staticRenderFns:[]}},131:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-layout",{staticClass:"listFilter"},[n("md-layout",[n("p",[t._v(t._s(t.itemType))])]),t._v(" "),n("md-layout",{attrs:{"md-align":"end"}},[n("md-menu",{attrs:{"md-align-trigger":""}},[n("md-button",{attrs:{"md-menu-trigger":""}},[t._v(t._s(t.menuButton))]),t._v(" "),n("md-menu-content",[n("div",{staticClass:"dropdown"},[n("p",[t._v("Sort byâ€¦")]),t._v(" "),n("div",{staticClass:"menu-item"},[n("md-menu-item",{nativeOn:{click:function(e){t.setFilter("records")}}},[t._v("Records")]),t._v(" "),n("md-menu-item",{nativeOn:{click:function(e){t.setFilter("species")}}},[t._v("Species")]),t._v(" "),n("md-menu-item",{nativeOn:{click:function(e){t.setFilter("distance")}}},[t._v("Distance")]),t._v(" "),n("md-menu-item",{nativeOn:{click:function(e){t.setFilter("count")}}},[t._v("Count")])],1)])])],1)],1)],1)},staticRenderFns:[]}},132:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("listFilter"),t._v(" "),this.$store.state.listView&&this.$store.getters.records.length?n("md-list",{staticClass:"list"},t._l(t.items,function(t){return n("listItem",{key:t.taxonId,attrs:{record:t}})})):n("md-layout",t._l(t.items,function(t){return n("gridListItem",{key:t.taxonId,attrs:{item:t}})}))],1)},staticRenderFns:[]}},133:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-list-item",{staticClass:"md-list-item"},[n("md-avatar",[t.record.thumbnailUrl?n("img",{attrs:{src:t.record.thumbnailUrl}}):n("img",{staticClass:"emoji",attrs:{src:"https://emojione.com/wp-content/uploads/assets/emojis/1f43e.svg",alt:"emoji"}})]),t._v(" "),n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(t._s(t.record.commonNme))]),t._v(" "),n("span",[t._v(t._s(t.record.scientificDisplayNme))]),t._v(" "),n("p",[t._v("Total count : "+t._s(t.record.totalCountInt))])]),t._v(" "),n("md-button",{staticClass:"md-icon-button md-list-action",attrs:{id:t.record.taxonId},nativeOn:{click:function(e){t.toggleRightSidenav(e)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("info")])],1),t._v(" "),n("md-divider",{staticClass:"md-inset"})],1)},staticRenderFns:[]}},134:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[this.$store.state.records.length?n("recordTable"):n("div",{staticClass:"intro"},[n("h1",[t._v("Welcome to Bio scan")]),t._v(" "),t._m(0),t._v(" "),n("md-layout",{attrs:{"md-align":"center"}},[this.$store.state.token?n("md-button",{staticClass:"md-raised",attrs:{id:"browse-button"},nativeOn:{click:function(e){t.browse(e)}}},[n("md-icon",[t._v("place")]),t._v("  \n        Browse\n      ")],1):t._e()],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Explore the recorded species nearby.\n    You can set the size of the search area and download the results.\n    Records are provided by the "),n("a",{attrs:{href:"https://vba.dse.vic.gov.au/vba/"}},[t._v("Victorian Biodiversity Atlas")])])}]}},138:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(11),i=n(52),o=n.n(i),r=n(50),c=(n.n(r),n(51)),a=n.n(c),u=n(49);s.default.config.productionTip=!1,s.default.use(o.a),s.default.material.registerTheme("default",{primary:{color:"purple",hue:900},accent:{color:"teal",hue:"A700"},warn:"red",background:{color:"grey",hue:300}}),s.default.material.setCurrentTheme("default"),new s.default({el:"#app",store:u.a,template:"<App/>",components:{App:a.a}})},48:function(t,e,n){n(122);var s=n(6)(n(79),n(133),null,null);t.exports=s.exports},49:function(t,e,n){"use strict";var s=n(11),i=n(136),o=n(73),r=n(72),c=n(74);s.default.use(i.a);var a={records:[],token:null,position:null,listView:!0,filter:"records",progress:!1};e.a=new i.a.Store({state:a,actions:r,getters:o,mutations:c})},50:function(t,e){},51:function(t,e,n){n(119);var s=n(6)(n(75),n(130),null,null);t.exports=s.exports},71:function(t,e,n){"use strict";var s=n(53),i=n.n(s);n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var o=function(){return i.a.get("https://vbapi.herokuapp.com/auth/guest").then(function(t){return t.data.jwt}).catch(function(t){return console.log(t.message)})},r=function(t,e){return i.a.get("https://vbapi.herokuapp.com/search/point",{headers:{"x-access-token":e},params:t}).then(function(t){return t.data.records}).catch(function(t){return console.log(t.message)})}},72:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(83),i=n.n(s),o=n(71);n.d(e,"fetchToken",function(){return r}),n.d(e,"fetchRecordsByLocation",function(){return c}),n.d(e,"getPosition",function(){return a}),n.d(e,"switchView",function(){return u}),n.d(e,"updateFilter",function(){return l}),n.d(e,"switchProgress",function(){return d});var r=function(t){var e=t.commit;n.i(o.a)().then(function(t){console.log("response body : ",t),e("SET_TOKEN",t)})},c=function(t){var e=t.commit,s=t.state,i=s.token,r={lat:s.position.lat,long:s.position.long,rad:250};return n.i(o.b)(r,i).then(function(t){return e("SET_RECORDS",t)})},a=function(t){var e=t.commit;return new i.a(function(t,e){t({accu:"12",lat:"-37.809610",long:"144.972052"})}).then(function(t){return e("SET_POSITION",t)}).catch(function(t){return console.log(t)})},u=function(t){(0,t.commit)("SWITCH_VIEW")},l=function(t,e){(0,t.commit)("UPDATE_FILTER",e)},d=function(t){(0,t.commit)("SWITCH_PROGRESS")}},73:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(84),i=n.n(s),o=n(82),r=n.n(o);n.d(e,"records",function(){return c}),n.d(e,"token",function(){return a}),n.d(e,"species",function(){return u});var c=function(t){return t.records},a=function(t){return t.token},u=function(t){return t.records.reduce(function(t,e){var n=r()({},{commonNme:e.commonNme,scientificDisplayNme:e.scientificDisplayNme,taxonId:e.taxonId,totalCountInt:Object.prototype.hasOwnProperty.call(e,"totalCountInt")?e.totalCountInt:null});if(0===n.totalCountInt)return t;var s=t.findIndex(function(t){return t.taxonId===n.taxonId});return s>-1?(n.totalCountInt+=t[s].totalCountInt,[].concat(i()(t.slice(0,s)),[n],i()(t.slice(s+1)))):[].concat(i()(t),[n])},[])}},74:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(11);n.d(e,"SET_TOKEN",function(){return i}),n.d(e,"SET_RECORDS",function(){return o}),n.d(e,"SET_POSITION",function(){return r}),n.d(e,"SWITCH_VIEW",function(){return c}),n.d(e,"UPDATE_FILTER",function(){return a}),n.d(e,"SWITCH_PROGRESS",function(){return u});var i=function(t,e){s.default.set(t,"token",e)},o=function(t,e){s.default.set(t,"records",e)},r=function(t,e){s.default.set(t,"position",e)},c=function(t){return s.default.set(t,"listView",!t.listView)},a=function(t,e){s.default.set(t,"filter",e)},u=function(t){s.default.set(t,"progress",!t.progress)}},75:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(125),i=n.n(s);e.default={name:"app",components:{Hello:i.a},computed:{listView:function(){return this.$store.state.listView}},methods:{switchView:function(){this.$store.dispatch("switchView")}}}},76:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(128),i=n.n(s);e.default={name:"hello",components:{recordTable:i.a},computed:{records:function(){return this.$store.getters.records.length},token:function(){return this.$store.state.token?"ready":"waiting..."},position:function(){return this.$store.state.position},species:function(){return this.$store.getters.species}},methods:{fetchToken:function(){this.$store.dispatch("fetchToken")},fetchRecords:function(){this.$store.dispatch("fetchRecordsByLocation")},getPosition:function(){this.$store.dispatch("getPosition")},browse:function(){var t=this;this.$store.dispatch("switchProgress"),this.$store.dispatch("getPosition").then(function(){return t.$store.dispatch("fetchRecordsByLocation")}).then(function(){return t.$store.dispatch("switchProgress")})}},mounted:function(){this.fetchToken()}}},77:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["item"],methods:{}}},78:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(48),i=n.n(s);e.default={data:function(){return{selectedFilter:""}},components:{listItem:i.a},computed:{itemType:function(){var t=this.$store.state.filter;return"species"===t||"count"===t?"Species":"Records"},menuButton:function(){switch(this.$store.state.filter){case"species":return"â†‘ Species";case"distance":return"â†‘ Distance";case"count":return"â†“ Count";default:return"â†‘ Records"}}},methods:{setFilter:function(t){console.log(t),this.$store.dispatch("updateFilter",t)}}}},79:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["record"],methods:{toggleRightSidenav:function(){var t=parseInt(event.currentTarget.id,10);this.$emit("infoPanel",t)}}}},80:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(48),i=n.n(s),o=n(126),r=n.n(o),c=n(127),a=n.n(c);e.default={components:{listItem:i.a,gridListItem:r.a,listFilter:a.a},computed:{items:function(){switch(this.$store.state.filter){case"species":return this.$store.getters.species;case"distance":return this.$store.getters.distance;case"count":return this.$store.getters.count;default:return this.$store.getters.records}}}}}},[138]);
//# sourceMappingURL=app.983948f0c8e2efff2959.js.map